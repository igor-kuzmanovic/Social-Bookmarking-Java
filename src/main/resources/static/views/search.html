<div class="min-space"></div>
<nav class="navbar3">
  <div class="navbar-brand">
    <p class="navbar-brand1">Search by
    </p>
  </div>
  <div ng-show="!vm.disableImport && vm.selectedBookmark">
    <div class="nav-icons" ng-init="imgsrc5='images/import.png'" ng-mouseover="imgsrc5='images/import_blue.png'" ng-mouseout="imgsrc5='images/import.png'" title="Import bookmark">
      <img class="nav-icons" src="{{imgsrc5}}" style="cursor: pointer" data-toggle="modal" data-target="#importBookmarkModal"/>
    </div>
  </div>
  <div ng-show="vm.disableImport && vm.selectedBookmark">
    <div class="nav-icons" ng-init="imgsrc6='images/import.png'" ng-mouseover="imgsrc6='images/import_red.png'" ng-mouseout="imgsrc6='images/import.png'" title="Import disabled">
      <img class="nav-icons" src="{{imgsrc6}}" style="cursor: pointer" data-toggle="modal" data-target="#disabledImportBookmarkModal"/>
    </div>
  </div>
  <div ng-show="!vm.selectedBookmark">
    <div class="nav-icons" ng-init="imgsrc6='images/import.png'" ng-mouseover="imgsrc6='images/import_red.png'" ng-mouseout="imgsrc6='images/import.png'" title="Please select bookmark">
      <img class="nav-icons" src="{{imgsrc6}}" style="cursor: pointer"/>
    </div>
  </div>

  <div ng-show="vm.selectedBookmark">
    <div class="nav-icons" ng-init="imgsrc3='images/details.png'" ng-mouseover="imgsrc3='images/details_blue.png'" ng-mouseout="imgsrc3='images/details.png'" title="Bookmark details">
      <img class="nav-icons" src="{{imgsrc3}}" style="cursor: pointer" data-toggle="modal" data-target="#showBookmarkDetails" ng-click="vm.showBookmarkDetails()"/>
    </div>
  </div>

  <div ng-show="!vm.selectedBookmark">
    <div class="nav-icons" ng-init="imgsrc3='images/details.png'" ng-mouseover="imgsrc3='images/details_red.png'" ng-mouseout="imgsrc3='images/details.png'" title="Please select bookmark">
      <img class="nav-icons" src="{{imgsrc3}}" style="cursor: pointer"/>
    </div>
  </div>
  <div ng-hide="true" class="nav-icons" ng-init="imgsrc4='images/tab.png'" ng-mouseover="imgsrc4='images/tab_blue.png'" ng-mouseout="imgsrc4='images/tab.png'">
    <a href="{{vm.selectedBookmark.url}}" target="_blank">
      <img class="nav-icons" src="{{imgsrc4}}" style="cursor: pointer"/>
    </a>
  </div>
  <div class="min-space"></div>
  <div class="form-group search-group">
    <label class="col-lg-2 control-label control-label1" for="inputDefault">User</label>
    <div class="col-lg-4">
      <input type="text" class="form-control resized-height" id="inputDefault" ng-model="search.user.username">
    </div>
  </div>
  <div class="form-group search-group">
    <label class="col-lg-2 control-label control-label1" for="inputDefault">Title</label>
    <div class="col-lg-4">
      <input type="text" class="form-control resized-height" id="inputDefault" ng-model="search.title">
    </div>
  </div>
  <div class="form-group search-group">
    <label for="select" class="col-lg-2 control-label control-label1">Category</label>
    <div class="col-lg-4">
      <select class="form-control resized-height" id="select" ng-model="search.category.name">
        <option value="">All</option>
        <option ng-repeat="option in vm.categories" value="{{option.name}}">{{option.name}}</option>
      </select>
    </div>
  </div>

  <div class="form-group search-group">
    <label for="textArea" class="col-lg-2 control-label control-label1">Tags</label>
    <div class="col-lg-4">
      <input type="text" class="form-control resized-height" id="inputDefault" ng-model="tagsearch.tags.name">
    </div>
  </div>
</nav>

<div class="bookmark-container" ng-show="vm.publicBookmarks.length != 0">
  <div class="panel panel-primary" style="cursor: pointer" ng-repeat="bookmark in vm.publicBookmarks | filter:search:strict | tagFilter:tagsearch.tags.name" ng-click="vm.selectBookmark(bookmark)" ng-dblclick="vm.openBookmark(bookmark)" ng-class="{selected: bookmark === vm.selectedBookmark}">
    <div class="panel-heading">
      <h3 class="panel-title">{{bookmark.title}}</h3>
    </div>
    <div class="panel-content">
      <div class="panel-body">{{bookmark.url}}</div>
    </div>
  </div>
  <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
</div>

<div class="modal fade" id="importBookmarkModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Confirmation</h4>
      </div>
      <div class="modal-body">
        <div class="panel-body" style="font-size: 125%">
          Are you sure you want to import <span style="color: blue; font-weight: italic">{{vm.selectedBookmark.title}}</span>?
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" ng-click="vm.importBookmark(vm.selectedBookmark.id)">Confirm</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="disabledImportBookmarkModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title" style="color: red">Error!</h4>
      </div>
      <div class="modal-body">
        <div class="panel-body" style="font-size: 125%">
          {{vm.importErrorMessage}}
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="showBookmarkDetails" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Bookmark details</h4>
      </div>
      <div class="modal-body">
        <table class="table table-striped table-hover ">
          <tr class="active" style="overflow: auto;">
            <td>Title</td>
            <td style="overflow: auto;">{{vm.selectedBookmark.title}}</td>
          </tr>
          <tr class="active" style="overflow: auto;">
            <td>URL</td>
            <td style="overflow: auto;">{{vm.selectedBookmark.url}}</td>
          </tr>
          <tr class="active" style="overflow: auto;">
            <td>Description</td>
            <td style="overflow: auto;">{{vm.selectedBookmark.description}}</td>
          </tr>
          <tr class="active" style="overflow: auto;">
            <td>Category</td>
            <td style="overflow: auto;">{{vm.selectedBookmark.category.name}}</td>
          </tr>
          <tr class="active" style="overflow: auto;">
            <td>Privacy</td>
            <td style="overflow: auto;">{{vm.selectedBookmark.public}}</td>
          </tr>
          <tr class="active" style="overflow: auto;">
            <td>Tags</td>
            <td style="overflow: auto;"><span ng-repeat="selectedBookmarkTag in vm.selectedBookmark.tags">{{selectedBookmarkTag.name}} </span></td>
          </tr>
          <tr class="active" style="overflow: auto;">
            <td>Date</td>
            <td style="overflow: auto;">{{vm.selectedBookmark.date | date:'dd-MM-yyyy'}}</td>
          </tr>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <div class="alert-container alert alert-danger" ng-if="vm.error">
          {{vm.error}}
        </div>
      </div>
    </div>
  </div>
</div>
